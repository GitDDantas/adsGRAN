<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Latas e Galões</title>
  </head>
  <body
    style="margin: 50px; font-family: Verdana, Arial, Helvetica, sans-serif"
  >
    <h1 style="margin: 0; padding: 0">Latas e Galões</h1>

    <h2 style="margin: 0; padding: 0">
      Determina a quantidade mais econômica de Latas e Galões
    </h2>

    <h3 style="margin: 0; padding: 0">para pintar uma área</h3>

    <h4 style="margin-bottom: 0">
      Rendimento litros por m² = <span id="litrosPorM2"> 1/3 </span><br />
      Volume da Lata = <span id="volLata"> 18,0 </span> litros <br />
      Volume do Galão = <span id="volGalao"> 3,60 </span> litros <br />
      Preço da Lata = R$<span id="precoLata"> 80,00 </span> <br />
      Preço do Galão = R$<span id="precoGalao"> 25,00 </span> <br />
    </h4>

    <h5 style="color: navy; margin-top: 0;" id="porcentSeguranca"></h5>

    <p style="color: brown; font-weight: bold" id="areaParaPintar"></p>
    <p id="resposta"></p>

    <script>
      const litrosPorM2 = eval(
        document.getElementById(`litrosPorM2`).textContent.replace(/\,/g, ".")
      ); // 1 litro para 3 m2
      const volLata = eval(
        document.getElementById(`volLata`).textContent.replace(/\,/g, ".")
      );
      const volGalao = eval(
        document.getElementById(`volGalao`).textContent.replace(/\,/g, ".")
      );
      const precoLata = eval(
        document.getElementById(`precoLata`).textContent.replace(/\,/g, ".")
      );
      const precoGalao = eval(
        document.getElementById(`precoGalao`).textContent.replace(/\,/g, ".")
      );

      const areaParaPintar = Number(prompt(`Entre com o tamanho da área: `));

      const litros = areaParaPintar * litrosPorM2;

      const latas = Math.ceil(litros / volLata);
      const custoLatas = latas * precoLata;

      const galoes = Math.ceil(litros / volGalao);
      const custoGaloes = galoes * precoGalao;

      // Mistura de latas e galões
      const misturaLata = Math.trunc(litros / volLata);
      const misturaGalao = Math.ceil(
        (litros - misturaLata * volLata) / volGalao
      );

      let resposta = ``;
      resposta += `Apenas latas de 18 litros: ${latas} -> preço: R$ ${custoLatas.toFixed(
        2
      )}\n`;
      resposta += `Apenas galões de 3,6 litros: ${galoes} -> preço: R$ ${custoGaloes.toFixed(
        2
      )}\n`;
      resposta += `Mistura: ${misturaLata} ${
        misturaLata <= 1 ? "lata" : "latas"
      } e ${misturaGalao} ${misturaGalao <= 1 ? "galão" : "galões"} -> R$ ${(
        misturaLata * precoLata +
        misturaGalao * precoGalao
      ).toFixed(2)}\n`;

      console.log(resposta);
      resposta = resposta.replace(/\n/g, "<br>");
      resposta = resposta.replace(/\./g, ",");
      document.getElementById("resposta").innerHTML = resposta;
      document.getElementById(
        "areaParaPintar"
      ).innerHTML = `Para pintar uma área de ${areaParaPintar}m² precisa:`;
    </script>
  </body>
</html>
